# ğŸ—ï¸ Global Rate Card Management System - Architecture Diagram

## System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GLOBAL RATE CARD SYSTEM                          â”‚
â”‚                     Single Source of Truth Architecture                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚   MySQL DB      â”‚
                                    â”‚                 â”‚
                                    â”‚ rate_card_roles â”‚
                                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                                    â”‚ â”‚ id          â”‚ â”‚
                                    â”‚ â”‚ role_name   â”‚ â”‚ â—„â”€â”€â”€ Single Source
                                    â”‚ â”‚ hourly_rate â”‚ â”‚      of Truth
                                    â”‚ â”‚ is_active   â”‚ â”‚
                                    â”‚ â”‚ created_at  â”‚ â”‚
                                    â”‚ â”‚ updated_at  â”‚ â”‚
                                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                        â”‚                        â”‚
                    â–¼                        â–¼                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   API Layer       â”‚   â”‚   API Layer       â”‚   â”‚   API Layer      â”‚
        â”‚                   â”‚   â”‚                   â”‚   â”‚                  â”‚
        â”‚ GET /rate-card    â”‚   â”‚ POST /rate-card   â”‚   â”‚ GET /rate-card/  â”‚
        â”‚                   â”‚   â”‚ PUT /rate-card/:idâ”‚   â”‚     markdown     â”‚
        â”‚ Returns:          â”‚   â”‚ DELETE /:id       â”‚   â”‚                  â”‚
        â”‚ [{                â”‚   â”‚                   â”‚   â”‚ Returns:         â”‚
        â”‚   id: "rc-001",   â”‚   â”‚ Validates:        â”‚   â”‚ Markdown table   â”‚
        â”‚   roleName: "...",â”‚   â”‚ â€¢ Unique names    â”‚   â”‚ for AI injection â”‚
        â”‚   hourlyRate: 365 â”‚   â”‚ â€¢ Positive rates  â”‚   â”‚                  â”‚
        â”‚ }]                â”‚   â”‚ â€¢ Data types      â”‚   â”‚ Format:          â”‚
        â”‚                   â”‚   â”‚                   â”‚   â”‚ | Role | Rate |  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                       â”‚                       â”‚
                  â”‚                       â”‚                       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚                       â”‚                       â”‚         â”‚
    â”‚             â–¼                       â–¼                       â–¼         â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚  Pricing Tables  â”‚   â”‚  Admin UI Panel  â”‚   â”‚   AI System      â”‚ â”‚
    â”‚  â”‚                  â”‚   â”‚                  â”‚   â”‚  (AnythingLLM)   â”‚ â”‚
    â”‚  â”‚ â€¢ Dropdown menus â”‚   â”‚ /admin/rate-card â”‚   â”‚                  â”‚ â”‚
    â”‚  â”‚ â€¢ Auto-fill ratesâ”‚   â”‚                  â”‚   â”‚ â€¢ Fetches markdownâ”‚ â”‚
    â”‚  â”‚ â€¢ Live data      â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚ â€¢ Injects into   â”‚ â”‚
    â”‚  â”‚                  â”‚   â”‚ â”‚ Add Role     â”‚ â”‚   â”‚   system prompt  â”‚ â”‚
    â”‚  â”‚ useEffect(() => {â”‚   â”‚ â”‚ Edit Role    â”‚ â”‚   â”‚ â€¢ Generates SOWs â”‚ â”‚
    â”‚  â”‚   fetch(         â”‚   â”‚ â”‚ Delete Role  â”‚ â”‚   â”‚   with current   â”‚ â”‚
    â”‚  â”‚   '/api/rate-cardâ”‚   â”‚ â”‚ View Table   â”‚ â”‚   â”‚   rates          â”‚ â”‚
    â”‚  â”‚   ')             â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚                  â”‚ â”‚
    â”‚  â”‚ }, [])           â”‚   â”‚                  â”‚   â”‚ async build...() â”‚ â”‚
    â”‚  â”‚                  â”‚   â”‚ â€¢ Form validationâ”‚   â”‚   const res =    â”‚ â”‚
    â”‚  â”‚ <select>         â”‚   â”‚ â€¢ Success/Error  â”‚   â”‚   await fetch(   â”‚ â”‚
    â”‚  â”‚   {roles.map()}  â”‚   â”‚   messages       â”‚   â”‚   '/rate-card/   â”‚ â”‚
    â”‚  â”‚ </select>        â”‚   â”‚ â€¢ Confirmations  â”‚   â”‚   markdown')     â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                                                                       â”‚
    â”‚                         FRONTEND LAYER                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagrams

### 1. Admin Creates/Updates Role

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sam     â”‚        â”‚ Admin UI â”‚        â”‚   API    â”‚        â”‚ Database â”‚
â”‚ (Admin)  â”‚        â”‚  /admin/ â”‚        â”‚ Endpoint â”‚        â”‚  MySQL   â”‚
â”‚          â”‚        â”‚rate-card â”‚        â”‚          â”‚        â”‚          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 1. Clicks "Add    â”‚                   â”‚                   â”‚
     â”‚    Role" button   â”‚                   â”‚                   â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 2. Enters data    â”‚                   â”‚                   â”‚
     â”‚    (role, rate)   â”‚                   â”‚                   â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 3. POST request   â”‚                   â”‚
     â”‚                   â”‚   /api/rate-card  â”‚                   â”‚
     â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚ 4. Validate data  â”‚
     â”‚                   â”‚                   â”‚    (unique, > 0)  â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚ 5. INSERT query   â”‚
     â”‚                   â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚ 6. New role data  â”‚
     â”‚                   â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 7. Success JSON   â”‚                   â”‚
     â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 8. Success messageâ”‚                   â”‚                   â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚                   â”‚
     â”‚    "Role created  â”‚                   â”‚                   â”‚
     â”‚    successfully"  â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 9. Table refreshesâ”‚                   â”‚                   â”‚
     â”‚    Shows new role â”‚                   â”‚                   â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚                   â”‚
```

### 2. User Selects Role in Pricing Table

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User   â”‚        â”‚ Pricing  â”‚        â”‚   API    â”‚        â”‚ Database â”‚
â”‚          â”‚        â”‚  Table   â”‚        â”‚ Endpoint â”‚        â”‚  MySQL   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 1. Page loads     â”‚                   â”‚                   â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 2. useEffect()    â”‚                   â”‚
     â”‚                   â”‚    triggers fetch â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 3. GET request    â”‚                   â”‚
     â”‚                   â”‚   /api/rate-card  â”‚                   â”‚
     â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚ 4. SELECT query   â”‚
     â”‚                   â”‚                   â”‚    WHERE active   â”‚
     â”‚                   â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚ 5. All active     â”‚
     â”‚                   â”‚                   â”‚    roles (90)     â”‚
     â”‚                   â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 6. JSON response  â”‚                   â”‚
     â”‚                   â”‚    {data: [...]}  â”‚                   â”‚
     â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 7. setRoles(data) â”‚                   â”‚
     â”‚                   â”‚    Update state   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 8. Dropdown ready â”‚                   â”‚                   â”‚
     â”‚    with all roles â”‚                   â”‚                   â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 9. User clicks    â”‚                   â”‚                   â”‚
     â”‚    dropdown       â”‚                   â”‚                   â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 10. Shows roles   â”‚                   â”‚                   â”‚
     â”‚     with rates    â”‚                   â”‚                   â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 11. Selects role  â”‚                   â”‚                   â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 12. Auto-fills    â”‚                   â”‚
     â”‚                   â”‚     hourly rate   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
```

### 3. AI Generates Scope with Current Rates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User   â”‚        â”‚ AI Model â”‚        â”‚   API    â”‚        â”‚ Database â”‚
â”‚          â”‚        â”‚AnythingLLM        â”‚ Endpoint â”‚        â”‚  MySQL   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 1. Requests AI    â”‚                   â”‚                   â”‚
     â”‚    to generate    â”‚                   â”‚                   â”‚
     â”‚    scope          â”‚                   â”‚                   â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 2. Needs rate cardâ”‚                   â”‚
     â”‚                   â”‚    for prompt     â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 3. GET request    â”‚                   â”‚
     â”‚                   â”‚   /api/rate-card/ â”‚                   â”‚
     â”‚                   â”‚   markdown        â”‚                   â”‚
     â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚ 4. SELECT query   â”‚
     â”‚                   â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚ 5. All roles      â”‚
     â”‚                   â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚ 6. Format as      â”‚
     â”‚                   â”‚                   â”‚    markdown table â”‚
     â”‚                   â”‚                   â”‚    | Role | Rate |â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 7. Markdown stringâ”‚                   â”‚
     â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 8. Inject into    â”‚                   â”‚
     â”‚                   â”‚    system prompt  â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 9. Generate scope â”‚                   â”‚
     â”‚                   â”‚    using LIVE     â”‚                   â”‚
     â”‚                   â”‚    rates          â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 10. Scope with    â”‚                   â”‚                   â”‚
     â”‚     accurate      â”‚                   â”‚                   â”‚
     â”‚     pricing       â”‚                   â”‚                   â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚                   â”‚
```

## Component Interaction Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FRONTEND                                  â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  EditablePricingTable â”‚              â”‚  RateCardAdminPage   â”‚  â”‚
â”‚  â”‚  Component            â”‚              â”‚  Component           â”‚  â”‚
â”‚  â”‚                       â”‚              â”‚                      â”‚  â”‚
â”‚  â”‚  const [roles, set..] â”‚              â”‚  const [roles, set..]â”‚  â”‚
â”‚  â”‚                       â”‚              â”‚                      â”‚  â”‚
â”‚  â”‚  useEffect(() => {    â”‚              â”‚  useEffect(() => {   â”‚  â”‚
â”‚  â”‚    fetch('/api/       â”‚              â”‚    fetchRoles()      â”‚  â”‚
â”‚  â”‚      rate-card')      â”‚              â”‚  })                  â”‚  â”‚
â”‚  â”‚  }, [])               â”‚              â”‚                      â”‚  â”‚
â”‚  â”‚                       â”‚              â”‚  â€¢ Add Form          â”‚  â”‚
â”‚  â”‚  <select>             â”‚              â”‚  â€¢ Edit Form         â”‚  â”‚
â”‚  â”‚    {roles.map(...)}   â”‚              â”‚  â€¢ Delete Button     â”‚  â”‚
â”‚  â”‚  </select>            â”‚              â”‚  â€¢ Data Table        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”‚                                     â”‚              â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ HTTP Requests
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            â”‚         BACKEND API                  â”‚
â”‚                            â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  API Routes (Next.js API Routes)                           â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  â€¢ GET  /api/rate-card         â†’ List all active roles     â”‚ â”‚
â”‚  â”‚  â€¢ POST /api/rate-card         â†’ Create new role           â”‚ â”‚
â”‚  â”‚  â€¢ PUT  /api/rate-card/:id     â†’ Update existing role      â”‚ â”‚
â”‚  â”‚  â€¢ DELETE /api/rate-card/:id   â†’ Soft delete role          â”‚ â”‚
â”‚  â”‚  â€¢ GET  /api/rate-card/markdownâ†’ Get markdown for AI       â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  Each route:                                                â”‚ â”‚
â”‚  â”‚  1. Validates input                                         â”‚ â”‚
â”‚  â”‚  2. Calls query() helper                                    â”‚ â”‚
â”‚  â”‚  3. Returns JSON response                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                            â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ SQL Queries
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            â–¼         DATABASE                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  rate_card_roles Table                                      â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  Columns:                                                   â”‚ â”‚
â”‚  â”‚  â€¢ id (VARCHAR(36), PRIMARY KEY)                           â”‚ â”‚
â”‚  â”‚  â€¢ role_name (VARCHAR(500), UNIQUE)                        â”‚ â”‚
â”‚  â”‚  â€¢ hourly_rate (DECIMAL(10,2))                             â”‚ â”‚
â”‚  â”‚  â€¢ is_active (BOOLEAN)                                     â”‚ â”‚
â”‚  â”‚  â€¢ created_at (TIMESTAMP)                                  â”‚ â”‚
â”‚  â”‚  â€¢ updated_at (TIMESTAMP)                                  â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  Indexes:                                                   â”‚ â”‚
â”‚  â”‚  â€¢ idx_role_name                                            â”‚ â”‚
â”‚  â”‚  â€¢ idx_is_active                                            â”‚ â”‚
â”‚  â”‚  â€¢ idx_hourly_rate                                          â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  90 Rows Pre-Seeded from Master Rate Card                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## AI Integration Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AI PROMPT GENERATION                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AnythingLLMService.buildRateCardMarkdown()                      â”‚
â”‚                                                                  â”‚
â”‚ BEFORE (Hardcoded):                                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â”‚
â”‚ import { ROLES } from "./rateCard";                             â”‚
â”‚                                                                  â”‚
â”‚ private buildRateCardMarkdown(): string {                       â”‚
â”‚   const rows = ROLES.map(r =>                                   â”‚
â”‚     `| ${r.name} | ${r.rate} |`                                 â”‚
â”‚   ).join("\n");                                                 â”‚
â”‚   return header + rows + guidance;                              â”‚
â”‚ }                                                                â”‚
â”‚                                                                  â”‚
â”‚ âŒ Problem: Hardcoded data, no updates without deployment       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â†“ REFACTORED â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AnythingLLMService.buildRateCardMarkdown()                      â”‚
â”‚                                                                  â”‚
â”‚ AFTER (Dynamic):                                                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚ // âŒ Removed: import { ROLES } from "./rateCard";              â”‚
â”‚                                                                  â”‚
â”‚ private async buildRateCardMarkdown(): Promise<string> {        â”‚
â”‚   const baseUrl = window.location.origin ||                     â”‚
â”‚                  'http://localhost:3000';                        â”‚
â”‚                                                                  â”‚
â”‚   const response = await fetch(                                 â”‚
â”‚     `${baseUrl}/api/rate-card/markdown`                         â”‚
â”‚   );                                                             â”‚
â”‚                                                                  â”‚
â”‚   const result = await response.json();                         â”‚
â”‚                                                                  â”‚
â”‚   if (result.success) {                                         â”‚
â”‚     return result.markdown; // âœ… Live data from DB             â”‚
â”‚   }                                                              â”‚
â”‚                                                                  â”‚
â”‚   return fallbackMessage;                                       â”‚
â”‚ }                                                                â”‚
â”‚                                                                  â”‚
â”‚ âœ… Solution: Fetches live data from database every time         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â†“ RESULT â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI System Prompt (Injected at Runtime)                          â”‚
â”‚                                                                  â”‚
â”‚ # Social Garden - Official Rate Card (AUD/hour)                 â”‚
â”‚                                                                  â”‚
â”‚ | Role                                        | Rate (AUD/hr) | â”‚
â”‚ |---------------------------------------------|---------------:| â”‚
â”‚ | Account Management - (Senior Director)      | 365.00        | â”‚
â”‚ | Tech - Producer - Campaign Build            | 120.00        | â”‚
â”‚ | ... (88 more roles, ALL FROM DATABASE) ...  |               | â”‚
â”‚                                                                  â”‚
â”‚ Version: v2025-10-27                                            â”‚
â”‚ Total Roles: 90                                                 â”‚
â”‚                                                                  â”‚
â”‚ âœ… Always up-to-date                                            â”‚
â”‚ âœ… No manual updates needed                                     â”‚
â”‚ âœ… Zero data inconsistencies                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Security & Validation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA VALIDATION LAYERS                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER INPUT (Admin UI)
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Client-Side      â”‚
â”‚     Validation       â”‚
â”‚                      â”‚
â”‚  â€¢ Empty check       â”‚
â”‚  â€¢ Type check        â”‚
â”‚  â€¢ Format check      â”‚
â”‚                      â”‚
â”‚  if (invalid) {      â”‚
â”‚    show error        â”‚
â”‚    return            â”‚
â”‚  }                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. API Validation   â”‚
â”‚                      â”‚
â”‚  â€¢ Role name:        â”‚
â”‚    - Not empty       â”‚
â”‚    - String type     â”‚
â”‚    - Trimmed         â”‚
â”‚                      â”‚
â”‚  â€¢ Hourly rate:      â”‚
â”‚    - Number type     â”‚
â”‚    - > 0             â”‚
â”‚    - Valid decimal   â”‚
â”‚                      â”‚
â”‚  if (invalid) {      â”‚
â”‚    return 400        â”‚
â”‚  }                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Uniqueness       â”‚
â”‚     Check            â”‚
â”‚                      â”‚
â”‚  SELECT id           â”‚
â”‚  FROM rate_card_rolesâ”‚
â”‚  WHERE role_name = ? â”‚
â”‚                      â”‚
â”‚  if (exists) {       â”‚
â”‚    return 409        â”‚
â”‚  }                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Database         â”‚
â”‚     Constraints      â”‚
â”‚                      â”‚
â”‚  â€¢ PRIMARY KEY       â”‚
â”‚  â€¢ UNIQUE(role_name) â”‚
â”‚  â€¢ NOT NULL          â”‚
â”‚  â€¢ CHECK > 0         â”‚
â”‚                      â”‚
â”‚  Final safety net    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
        SUCCESS
   Data is persisted
```

## File Structure

```
the11-dev/
â”‚
â”œâ”€â”€ database/
â”‚   â””â”€â”€ migrations/
â”‚       â””â”€â”€ add-rate-card-roles-table.sql âœ… (NEW)
â”‚
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ migrate-rate-card.sh âœ… (NEW)
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx âœï¸ (MODIFIED - Added Rate Card link)
â”‚   â”‚   â”‚   â””â”€â”€ rate-card/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx âœ… (NEW - Admin UI)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â””â”€â”€ rate-card/
â”‚   â”‚           â”œâ”€â”€ route.ts âœ… (NEW - GET, POST)
â”‚   â”‚           â”œâ”€â”€ [id]/
â”‚   â”‚           â”‚   â””â”€â”€ route.ts âœ… (NEW - PUT, DELETE)
â”‚   â”‚           â””â”€â”€ markdown/
â”‚   â”‚               â””â”€â”€ route.ts âœ… (NEW - GET markdown)
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ tailwind/
â”‚   â”‚       â””â”€â”€ extensions/
â”‚   â”‚           â””â”€â”€ editable-pricing-table.tsx âœï¸ (MODIFIED - Dynamic fetch)
â”‚   â”‚
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ anythingllm.ts âœï¸ (MODIFIED - Async fetch)
â”‚       â””â”€â”€ rateCard.ts (KEPT - For backward compatibility)
â”‚
â””â”€â”€ Documentation/
    â”œâ”€â”€ 00-GLOBAL-RATE-CARD-MANAGEMENT-SYSTEM.md âœ… (NEW)
    â”œâ”€â”€ 00-RATE-CARD-QUICK-START.md âœ… (NEW)
    â”œâ”€â”€ 00-RATE-CARD-DEPLOYMENT-CHECKLIST.md âœ… (NEW)
    â”œâ”€â”€ 00-RATE-CARD-IMPLEMENTATION-SUMMARY.md âœ… (NEW)
    â””â”€â”€ 00-RATE-CARD-ARCHITECTURE-DIAGRAM.md âœ… (NEW - This file)
```

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TECHNOLOGY STACK                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Database Layer:
â”œâ”€â”€ MySQL 8.0+
â”œâ”€â”€ InnoDB Storage Engine
â””â”€â”€ UTF-8 Character Set

Backend API:
â”œâ”€â”€ Next.js API Routes (App Router)
â”œâ”€â”€ TypeScript
â”œâ”€â”€ Parameterized Queries (SQL Injection Protection)
â””â”€â”€ JSON Response Format

Frontend UI:
â”œâ”€â”€ React 18
â”œâ”€â”€ TypeScript
â”œâ”€â”€ Tailwind CSS
â”œâ”€â”€ Lucide Icons (Pencil, Trash2, Plus, Save, X, AlertCircle, CheckCircle2)
â””â”€â”€ Next.js Client Components ("use client")

AI Integration:
â”œâ”€â”€ AnythingLLM API
â”œâ”€â”€ Async/Await Pattern
â”œâ”€â”€ Fetch API
â””â”€â”€ Markdown Formatting

State Management:
â”œâ”€â”€ React useState
â”œâ”€â”€ React useEffect
â””â”€â”€ Component-level State (No Global Store)

Validation:
â”œâ”€â”€ Client-side: React Form Validation
â”œâ”€â”€ Server-side: API Route Validation
â””â”€â”€ Database-level: Constraints & Indexes
```

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRODUCTION DEPLOYMENT                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginx      â”‚â”€â”€â”€â”€â–¶â”‚   Next.js    â”‚â”€â”€â”€â”€â–¶â”‚   MySQL      â”‚
â”‚   (Reverse   â”‚     â”‚   Frontend   â”‚     â”‚   Database   â”‚
â”‚    Proxy)    â”‚     â”‚   + API      â”‚     â”‚              â”‚
â”‚              â”‚     â”‚              â”‚     â”‚   rate_card  â”‚
â”‚ Port 80/443  â”‚     â”‚ Port 3000    â”‚     â”‚   _roles     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                    â”‚
       â”‚                     â”‚                    â”‚
       â–¼                     â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SSL Cert   â”‚     â”‚   PM2 or     â”‚     â”‚   Automated  â”‚
â”‚   (Let's     â”‚     â”‚   Docker     â”‚     â”‚   Backups    â”‚
â”‚   Encrypt)   â”‚     â”‚              â”‚     â”‚   (Daily)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Summary

This architecture establishes a **single source of truth** for rate card data by:

1. **Centralizing** all role/rate data in one MySQL table
2. **Exposing** RESTful API endpoints for CRUD operations
3. **Providing** a user-friendly admin interface
4. **Integrating** with pricing tables via dynamic fetching
5. **Injecting** live data into AI system prompts

**Result:** Zero data consistency bugs, real-time updates, and empowered admins.

---

**Created:** October 27, 2025  
**Version:** 1.0  
**Status:** âœ… Production Ready